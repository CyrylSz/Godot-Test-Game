[gd_scene load_steps=4 format=3 uid="uid://hf37fvoix7wn"]

[ext_resource type="Texture2D" uid="uid://2p42dtck7kr1" path="res://textures/player/player_idle.png" id="1_aw3li"]

[sub_resource type="GDScript" id="GDScript_cy5ty"]
script/source = "extends CharacterBody2D

@export var speed: int = 100
var zoom_speed: Vector2 = Vector2(0.05, 0.05)
var zoom_min: Vector2 = Vector2(0.5, 0.5)
var zoom_max: Vector2 = Vector2(1.0, 1.0)

#func _ready():
	#var anim_sprite: Sprite2D = $Sprite2D
	#var anim: AnimationPlayer = $AnimationPlayer
	#var anim_tree: AnimationTree = $AnimationTree

func _process(_delta):
	var direction: Vector2 = Input.get_vector(\"left\",\"right\",\"up\",\"down\").normalized()
	if direction: velocity = direction * speed
	else: velocity = Vector2.ZERO
	Idle(direction)
	move_and_slide()
	
	if Input.is_action_pressed(\"zoom_out\"): $Camera.zoom = Vector2(min($Camera.zoom.x + zoom_speed.x, zoom_max.x), min($Camera.zoom.y + zoom_speed.y, zoom_max.y))
	elif Input.is_action_pressed(\"zoom_in\"): $Camera.zoom = Vector2(max($Camera.zoom.x - zoom_speed.x, zoom_min.x), max($Camera.zoom.y - zoom_speed.y, zoom_min.y))


func Idle(direction):
	match direction:
		Vector2.DOWN: $Sprite2D.frame = 0
		Vector2.LEFT: $Sprite2D.frame = 1
		Vector2.RIGHT: $Sprite2D.frame = 2
		Vector2.UP: $Sprite2D.frame = 3

#func update_player_animation():
#	animation needed
"

[sub_resource type="CircleShape2D" id="CircleShape2D_3vme5"]
radius = 5.09902

[node name="Player" type="CharacterBody2D"]
script = SubResource("GDScript_cy5ty")

[node name="Sprite2D" type="Sprite2D" parent="."]
texture = ExtResource("1_aw3li")
hframes = 4

[node name="CollisionShape2D" type="CollisionShape2D" parent="."]
position = Vector2(0, 3)
shape = SubResource("CircleShape2D_3vme5")

[node name="Camera" type="Camera2D" parent="."]
position_smoothing_enabled = true
position_smoothing_speed = 7.0
rotation_smoothing_speed = 4.0
